<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speech Lab - Project H</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        /* ------------------------- */
        /* --- ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼ & ë³€ìˆ˜ --- */
        /* ------------------------- */
        :root {
            --bg-color: #121212;
            --surface-color: #1e1e1e;
            --primary-color: #03dac6;
            --primary-variant-color: #3700b3;
            --secondary-color: #bb86fc;
            --text-color: #e0e0e0;
            --text-secondary-color: #a0a0a0;
            --border-color: #333333;
            --success-color: #4caf50;
            --error-color: #f44336;
            --font-family: 'Noto Sans KR', sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            font-size: 16px;
        }

       .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        /* ------------------------- */
        /* --- ë‚´ë¹„ê²Œì´ì…˜ & ë ˆì´ì•„ì›ƒ --- */
        /* ------------------------- */
       .main-nav {
            display: flex;
            gap: 1rem;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 2rem;
        }

       .nav-tab {
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            background: none;
            border: none;
            color: var(--text-secondary-color);
            font-size: 1rem;
            font-weight: 500;
            transition: color 0.3s, border-bottom 0.3s;
            border-bottom: 3px solid transparent;
        }

       .nav-tab.active {
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
        }

       .module {
            display: none;
            animation: fadeIn 0.5s;
        }

       .module.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ------------------------- */
        /* --- ê³µìš© ì»´í¬ë„ŒíŠ¸ (í¼, ë²„íŠ¼ ë“±) --- */
        /* ------------------------- */
       .card {
            background-color: var(--surface-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-color);
        }

       .form-group {
            margin-bottom: 1rem;
        }

       .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary-color);
            font-weight: 500;
        }

       .form-control {
            width: 100%;
            padding: 0.8rem;
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-color);
            font-size: 1rem;
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }
        
       .tag-group label {
            margin-right: 1rem;
        }

       .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 700;
            transition: background-color 0.3s, transform 0.1s;
        }

       .btn-primary {
            background-color: var(--primary-color);
            color: #000;
        }

       .btn-primary:hover {
            background-color: #3cfddc;
        }
        
       .btn:active {
            transform: translateY(1px);
        }

       .btn-secondary {
            background-color: var(--secondary-color);
            color: #000;
        }
        
       .btn-secondary:hover {
            background-color: #d0aaff;
        }

       .list-group {
            list-style: none;
            padding: 0;
        }

       .list-group-item {
            background-color: var(--bg-color);
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* ------------------------- */
        /* --- ëª¨ë“ˆ 4: ëŒ€ì‹œë³´ë“œ ìŠ¤íƒ€ì¼ --- */
        /* ------------------------- */
       .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

       .stat-card h3 {
            color: var(--secondary-color);
            font-size: 1.2rem;
        }

       .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-color);
        }

       .xp-bar-container {
            width: 100%;
            height: 25px;
            background-color: var(--bg-color);
            border-radius: 12.5px;
            border: 1px solid var(--border-color);
            overflow: hidden;
            margin-top: 0.5rem;
        }

       .xp-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--primary-variant-color), var(--secondary-color));
            border-radius: 12.5px;
            transition: width 0.5s ease-in-out;
            text-align: center;
            line-height: 25px;
            color: #fff;
            font-weight: bold;
        }
        
       .xp-text {
            margin-top: 0.5rem;
            text-align: right;
            color: var(--text-secondary-color);
        }

        /* ------------------------- */
        /* --- ëª¨ë“ˆ 3: ì±Œë¦°ì§€ ìŠ¤íƒ€ì¼ --- */
        /* ------------------------- */
       .challenge-item-completed {
            text-decoration: line-through;
            opacity: 0.6;
        }

       .challenge-item-completed.btn {
            background-color: var(--success-color);
            cursor: not-allowed;
        }

    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Speech Lab <span style="color: var(--text-secondary-color); font-size: 1.2rem;">(Project H)</span></h1>
            <nav class="main-nav">
                <button class="nav-tab active" data-tab="dashboard">ëŒ€ì‹œë³´ë“œ</button>
                <button class="nav-tab" data-tab="library">ì½˜í…ì¸  ë¼ì´ë¸ŒëŸ¬ë¦¬</button>
                <button class="nav-tab" data-tab="analyzer">'ìª¼ê°œê¸°' ë¶„ì„ê¸°</button>
                <button class="nav-tab" data-tab="challenges">ì±Œë¦°ì§€</button>
            </nav>
        </header>

        <main>
            <div id="dashboard-module" class="module active">
                <h2>ë‚˜ì˜ ì„±ì¥ ëŒ€ì‹œë³´ë“œ</h2>
                <div class="dashboard-grid">
                    <div class="card stat-card">
                        <h3>Level</h3>
                        <p class="stat-value" id="level-display">1</p>
                    </div>
                    <div class="card stat-card">
                        <h3>XP (ê²½í—˜ì¹˜)</h3>
                        <p class="stat-value" id="xp-display">0</p>
                        <div class="xp-bar-container">
                            <div id="xp-bar" class="xp-bar"></div>
                        </div>
                        <p class="xp-text" id="xp-text-display">0 / 1000</p>
                    </div>
                </div>
                <div class="card">
                    <h3>Skill Tree (ìŠ¤í‚¬ ë¶„ì„ í˜„í™©)</h3>
                    <canvas id="skillTreeChart"></canvas>
                </div>
            </div>

            <div id="library-module" class="module">
                <h2>ì½˜í…ì¸  ë¼ì´ë¸ŒëŸ¬ë¦¬</h2>
                <div class="card">
                    <h3>ìƒˆ ì½˜í…ì¸  ì¶”ê°€</h3>
                    <form id="add-content-form">
                        <div class="form-group">
                            <label for="content-title">ì˜ìƒ ì œëª©</label>
                            <input type="text" id="content-title" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="content-url">ì›ë³¸ URL</label>
                            <input type="url" id="content-url" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="content-type">ìœ í˜•</label>
                            <select id="content-type" class="form-control">
                                <option value="í’€ ì˜ìƒ">í’€ ì˜ìƒ</option>
                                <option value="ì‡¼ì¸ ">ì‡¼ì¸ </option>
                                <option value="ê°•ì˜">ê°•ì˜</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="content-category">ì¹´í…Œê³ ë¦¬</label>
                            <select id="content-category" class="form-control">
                                <option value="ë…¼ë¦¬ì  ë§í•˜ê¸°">ë…¼ë¦¬ì  ë§í•˜ê¸°</option>
                                <option value="í˜¸ê°í˜• ë§í•˜ê¸°">í˜¸ê°í˜• ë§í•˜ê¸°</option>
                                <option value="ìŠ¤í‚¬">ìŠ¤í‚¬</option>
                                <option value="ê°ì •">ê°ì •</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì¶”ê°€ (+10 XP)</button>
                    </form>
                </div>
                <div class="card">
                    <h3>ì½˜í…ì¸  ëª©ë¡</h3>
                    <ul id="content-list" class="list-group">
                        </ul>
                </div>
            </div>

            <div id="analyzer-module" class="module">
                <h2>'ìª¼ê°œê¸°' ë¶„ì„ê¸°</h2>
                <div class="card">
                    <form id="decon-note-form">
                        <div class="form-group">
                            <label for="linked-content">ë¶„ì„í•  ì½˜í…ì¸  ì„ íƒ</label>
                            <select id="linked-content" class="form-control" required>
                                </select>
                        </div>
                        <div class="form-group">
                            <label for="original-script">ì›ë³¸ ìŠ¤í¬ë¦½íŠ¸</label>
                            <textarea id="original-script" class="form-control" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="analysis-intent">ì˜ë„ ë¶„ì„ (Why?)</label>
                            <input type="text" id="analysis-intent" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="analysis-technique">ê¸°ë²• ë¶„ì„ (How?)</label>
                            <input type="text" id="analysis-technique" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="analysis-emotion">ê°ì • ë¶„ì„</label>
                            <input type="text" id="analysis-emotion" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="analysis-keywords">í•µì‹¬ í‚¤ì›Œë“œ</label>
                            <input type="text" id="analysis-keywords" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="my-rewriting">ë‚˜ì˜ ë¦¬ë¼ì´íŒ…</label>
                            <textarea id="my-rewriting" class="form-control"></textarea>
                        </div>
                        <div class="form-group tag-group">
                            <label>ìŠ¤í‚¬ íƒœê·¸ (Skill Tree ì—°ë™)</label><br>
                            <input type="checkbox" id="tag-logic" name="skill-tag" value="logic"> <label for="tag-logic">ë…¼ë¦¬</label>
                            <input type="checkbox" id="tag-appeal" name="skill-tag" value="appeal"> <label for="tag-appeal">í˜¸ê°</label>
                            <input type="checkbox" id="tag-skill" name="skill-tag" value="skill"> <label for="tag-skill">ìŠ¤í‚¬</label>
                        </div>
                        <button type="submit" class="btn btn-primary">ìª¼ê°œê¸° ë…¸íŠ¸ ì œì¶œ (+50 XP)</button>
                    </form>
                </div>
                 <div class="card">
                    <h3>ìµœê·¼ ë¶„ì„ ë…¸íŠ¸</h3>
                    <ul id="analysis-note-list" class="list-group">
                        </ul>
                </div>
            </div>

            <div id="challenges-module" class="module">
                <h2>'ì ì§„ì  ê³¼ë¶€í•˜' ì±Œë¦°ì§€</h2>
                <div class="card">
                    <ul id="challenge-list" class="list-group">
                        </ul>
                </div>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // ------------------------------------
        // --- 1. ìƒíƒœ ê´€ë¦¬ (State Management) ---
        // ------------------------------------

        // ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ë‹´ëŠ” ë‹¨ì¼ ì†ŒìŠ¤(Single Source of Truth)
        let appState = {
            contentLibrary:,
            analysisNotes:,
            challenges: [
                { id: 1, level: 1, description: "í¥ë²„íŠ¼ ì˜ìƒ 1ë¶„ 'ì‰ë„ì‰' ë…¹ìŒ", xp: 100, completed: false },
                { id: 2, level: 5, description: "'ìª¼ê°œê¸° ë…¸íŠ¸' 10ê°œ ì‘ì„±í•˜ê¸°", xp: 150, completed: false },
                { id: 3, level: 10, description: "ë¶„ì„í•œ 'ê¸°ë²•' 1ê°œ í™œìš©í•˜ì—¬ 1ë¶„ ì˜ìƒ ë…¹í™”", xp: 200, completed: false },
                { id: 4, level: 20, description: "ì£¼ì œ ìŠ¤í”¼ì¹˜(3ë¶„) ë…¹í™” (í¥ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì ìš©)", xp: 300, completed: false },
            ],
            playerStats: {
                xp: 0,
                level: 1,
                skillTree: {
                    logic: 0,
                    appeal: 0,
                    skill: 0,
                },
            },
        };

        // ë ˆë²¨ì—…ì— í•„ìš”í•œ XP í…Œì´ë¸”
        const XP_PER_LEVEL = 1000;

        // localStorageì—ì„œ ìƒíƒœ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadState() {
            const savedState = localStorage.getItem('speechLabState');
            if (savedState) {
                appState = JSON.parse(savedState);
            }
        }

        // localStorageì— ìƒíƒœ ì €ì¥í•˜ê¸°
        function saveState() {
            localStorage.setItem('speechLabState', JSON.stringify(appState));
        }

        // ------------------------------------
        // --- 2. DOM ìš”ì†Œ ìºì‹± ---
        // ------------------------------------
        const tabs = document.querySelectorAll('.nav-tab');
        const modules = document.querySelectorAll('.module');

        // ëª¨ë“ˆ 1: ë¼ì´ë¸ŒëŸ¬ë¦¬
        const addContentForm = document.getElementById('add-content-form');
        const contentList = document.getElementById('content-list');

        // ëª¨ë“ˆ 2: ë¶„ì„ê¸°
        const deconNoteForm = document.getElementById('decon-note-form');
        const linkedContentSelect = document.getElementById('linked-content');
        const analysisNoteList = document.getElementById('analysis-note-list');

        // ëª¨ë“ˆ 3: ì±Œë¦°ì§€
        const challengeList = document.getElementById('challenge-list');

        // ëª¨ë“ˆ 4: ëŒ€ì‹œë³´ë“œ
        const levelDisplay = document.getElementById('level-display');
        const xpDisplay = document.getElementById('xp-display');
        const xpBar = document.getElementById('xp-bar');
        const xpTextDisplay = document.getElementById('xp-text-display');
        const skillTreeChartCanvas = document.getElementById('skillTreeChart').getContext('2d');
        let skillTreeChart;


        // ------------------------------------
        // --- 3. í•µì‹¬ ë¡œì§ (Controllers) ---
        // ------------------------------------

        // XP ì¶”ê°€ ë° ë ˆë²¨ì—… ì²´í¬
        function addXp(amount) {
            appState.playerStats.xp += amount;
            checkForLevelUp();
        }

        // ë ˆë²¨ì—… ë¡œì§
        function checkForLevelUp() {
            const currentLevel = appState.playerStats.level;
            const currentXp = appState.playerStats.xp;
            const xpForNextLevel = currentLevel * XP_PER_LEVEL;
            
            if (currentXp >= xpForNextLevel) {
                appState.playerStats.level++;
                // ë ˆë²¨ì—… ì‹œ ì•Œë¦¼ ë“± ì¶”ê°€ ê°€ëŠ¥
                alert(`ğŸ‰ ë ˆë²¨ ì—…! ì¶•í•˜í•©ë‹ˆë‹¤! Level ${appState.playerStats.level} ë‹¬ì„±!`);
            }
        }

        // ëª¨ë“ˆ 1: ì½˜í…ì¸  ì¶”ê°€
        function handleAddContent(e) {
            e.preventDefault();
            const title = document.getElementById('content-title').value;
            const url = document.getElementById('content-url').value;
            const type = document.getElementById('content-type').value;
            const category = document.getElementById('content-category').value;

            const newContent = {
                id: Date.now(),
                title, url, type, category
            };

            appState.contentLibrary.push(newContent);
            addXp(10); // ì½˜í…ì¸  ì¶”ê°€ ì‹œ +10 XP
            
            saveState();
            render();
            addContentForm.reset();
        }

        // ëª¨ë“ˆ 2: ìª¼ê°œê¸° ë…¸íŠ¸ ì œì¶œ
        function handleSubmitNote(e) {
            e.preventDefault();
            
            const selectedTags = Array.from(document.querySelectorAll('input[name="skill-tag"]:checked')).map(el => el.value);
            
            const newNote = {
                id: Date.now(),
                contentId: document.getElementById('linked-content').value,
                script: document.getElementById('original-script').value,
                intent: document.getElementById('analysis-intent').value,
                technique: document.getElementById('analysis-technique').value,
                emotion: document.getElementById('analysis-emotion').value,
                keywords: document.getElementById('analysis-keywords').value,
                rewriting: document.getElementById('my-rewriting').value,
                tags: selectedTags
            };

            appState.analysisNotes.push(newNote);
            addXp(50); // ë…¸íŠ¸ ì œì¶œ ì‹œ +50 XP

            // Skill Tree ì—…ë°ì´íŠ¸
            newNote.tags.forEach(tag => {
                if (appState.playerStats.skillTree.hasOwnProperty(tag)) {
                    appState.playerStats.skillTree[tag]++;
                }
            });

            saveState();
            render();
            deconNoteForm.reset();
        }

        // ëª¨ë“ˆ 3: ì±Œë¦°ì§€ ì™„ë£Œ
        function handleCompleteChallenge(challengeId) {
            const challenge = appState.challenges.find(c => c.id === challengeId);
            if (challenge &&!challenge.completed) {
                challenge.completed = true;
                addXp(challenge.xp); // ì±Œë¦°ì§€ ì™„ë£Œ ì‹œ ì •í•´ì§„ XP íšë“

                saveState();
                render();
            }
        }


        // ------------------------------------
        // --- 4. ë Œë”ë§ (Views) ---
        // ------------------------------------

        // ë§ˆìŠ¤í„° ë Œë”ë§ í•¨ìˆ˜: ëª¨ë“  UI ì—…ë°ì´íŠ¸ë¥¼ ì´ê´„
        function render() {
            renderDashboard();
            renderLibrary();
            renderAnalyzer();
            renderChallenges();
        }

        // ëŒ€ì‹œë³´ë“œ ë Œë”ë§
        function renderDashboard() {
            const stats = appState.playerStats;
            const xpForCurrentLevel = (stats.level - 1) * XP_PER_LEVEL;
            const xpForNextLevel = stats.level * XP_PER_LEVEL;
            const xpProgress = stats.xp - xpForCurrentLevel;
            const xpNeeded = xpForNextLevel - xpForCurrentLevel;
            const progressPercentage = Math.min(100, (xpProgress / xpNeeded) * 100);

            levelDisplay.textContent = stats.level;
            xpDisplay.textContent = stats.xp.toLocaleString();
            xpBar.style.width = `${progressPercentage}%`;
            xpBar.textContent = `${Math.round(progressPercentage)}%`;
            xpTextDisplay.textContent = `${stats.xp.toLocaleString()} / ${xpForNextLevel.toLocaleString()}`;

            // ìŠ¤í‚¬ íŠ¸ë¦¬ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            skillTreeChart.data.datasets.data =;
            skillTreeChart.update();
        }

        // ë¼ì´ë¸ŒëŸ¬ë¦¬ ë Œë”ë§
        function renderLibrary() {
            contentList.innerHTML = '';
            if (appState.contentLibrary.length === 0) {
                contentList.innerHTML = '<p>ì•„ì§ ì¶”ê°€ëœ ì½˜í…ì¸ ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            appState.contentLibrary.forEach(content => {
                const li = document.createElement('li');
                li.className = 'list-group-item';
                li.innerHTML = `
                    <div>
                        <strong>${content.title}</strong>
                        <small style="color: var(--text-secondary-color); display: block;">${content.category} / ${content.type}</small>
                    </div>
                    <a href="${content.url}" target="_blank" class="btn btn-secondary">ì˜ìƒ ë³´ê¸°</a>
                `;
                contentList.appendChild(li);
            });
        }
        
        // ë¶„ì„ê¸° ë Œë”ë§ (ì½˜í…ì¸  ì„ íƒ ì˜µì…˜ ë° ìµœê·¼ ë…¸íŠ¸)
        function renderAnalyzer() {
            // ì½˜í…ì¸  ì„ íƒ ë“œë¡­ë‹¤ìš´ ì±„ìš°ê¸°
            linkedContentSelect.innerHTML = '';
            appState.contentLibrary.forEach(content => {
                const option = document.createElement('option');
                option.value = content.id;
                option.textContent = content.title;
                linkedContentSelect.appendChild(option);
            });

            // ìµœê·¼ ë¶„ì„ ë…¸íŠ¸ 5ê°œ í‘œì‹œ
            analysisNoteList.innerHTML = '';
            const recentNotes =.reverse().slice(0, 5);
            if (recentNotes.length === 0) {
                analysisNoteList.innerHTML = '<p>ì•„ì§ ì‘ì„±ëœ ë¶„ì„ ë…¸íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            recentNotes.forEach(note => {
                const li = document.createElement('li');
                li.className = 'list-group-item';
                const linkedContent = appState.contentLibrary.find(c => c.id == note.contentId);
                li.innerHTML = `
                    <div>
                        <strong>"${note.script.substring(0, 30)}..."</strong>
                        <small style="color: var(--text-secondary-color); display: block;">
                            ë¶„ì„ ì˜ìƒ: ${linkedContent? linkedContent.title : 'ì•Œ ìˆ˜ ì—†ìŒ'}
                        </small>
                    </div>
                    <div>${note.tags.map(t => `<span class="badge">${t}</span>`).join(' ')}</div>
                `;
                analysisNoteList.appendChild(li);
            });
        }


        // ì±Œë¦°ì§€ ë Œë”ë§
        function renderChallenges() {
            challengeList.innerHTML = '';
            appState.challenges.forEach(challenge => {
                const li = document.createElement('li');
                li.className = 'list-group-item';
                if (challenge.completed) {
                    li.classList.add('challenge-item-completed');
                }
                li.innerHTML = `
                    <div>
                        <strong>Lv.${challenge.level}: ${challenge.description}</strong>
                        <small style="color: var(--text-secondary-color); display: block;">ë³´ìƒ: ${challenge.xp} XP</small>
                    </div>
                    <button class="btn ${challenge.completed? '' : 'btn-secondary'}" data-challenge-id="${challenge.id}" ${challenge.completed? 'disabled' : ''}>
                        ${challenge.completed? 'ì™„ë£Œë¨' : 'ì™„ë£Œ'}
                    </button>
                `;
                challengeList.appendChild(li);
            });
        }

        // ------------------------------------
        // --- 5. ì´ˆê¸°í™” ë° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ---
        // ------------------------------------

        // ìŠ¤í‚¬ íŠ¸ë¦¬ ì°¨íŠ¸ ì´ˆê¸°í™”
        function initChart() {
            skillTreeChart = new Chart(skillTreeChartCanvas, {
                type: 'bar',
                data: {
                    labels: ['ë…¼ë¦¬', 'í˜¸ê°', 'ìŠ¤í‚¬'],
                    datasets: [{
                        label: 'ë¶„ì„ íšŸìˆ˜',
                        data: , // ì´ˆê¸° ë°ì´í„°ëŠ” appStateì—ì„œ ê°€ì ¸ì˜´
                        backgroundColor: [
                            'rgba(3, 218, 198, 0.6)',
                            'rgba(187, 134, 252, 0.6)',
                            'rgba(55, 0, 179, 0.6)'
                        ],
                        borderColor: [
                            'rgba(3, 218, 198, 1)',
                            'rgba(187, 134, 252, 1)',
                            'rgba(55, 0, 179, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    scales: {
                        x: {
                            beginAtZero: true,
                            ticks: { color: var(--text-secondary-color) },
                            grid: { color: var(--border-color) }
                        },
                        y: {
                            ticks: { color: var(--text-color), font: { size: 14 } },
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    maintainAspectRatio: false
                }
            });
        }

        // ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™” í•¨ìˆ˜
        function init() {
            loadState();
            initChart();

            // íƒ­ ì „í™˜ ë¡œì§
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    modules.forEach(m => m.classList.remove('active'));
                    tab.classList.add('active');
                    document.getElementById(`${tab.dataset.tab}-module`).classList.add('active');
                });
            });

            // í¼ ì œì¶œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            addContentForm.addEventListener('submit', handleAddContent);
            deconNoteForm.addEventListener('submit', handleSubmitNote);

            // ì±Œë¦°ì§€ ì™„ë£Œ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ì´ë²¤íŠ¸ ìœ„ì„)
            challengeList.addEventListener('click', (e) => {
                if (e.target.matches('button[data-challenge-id]')) {
                    const challengeId = parseInt(e.target.dataset.challengeId);
                    handleCompleteChallenge(challengeId);
                }
            });

            // ì´ˆê¸° ë Œë”ë§ ì‹¤í–‰
            render();
        }

        // ì´ˆê¸°í™” í•¨ìˆ˜ í˜¸ì¶œ
        init();
    });
    </script>
</body>
</html>